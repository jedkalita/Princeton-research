import os
import math
import sys
import time

#class storing the data structures needed for each limit order placed
#time began, cancellation time (generated by a poisson process), number of shares
class LimitOrder:
    def __init__(self, id, buy_or_sell, time_began, cancellation_time, order_size):
        self.id = id #an id from the pool of remaining limit orders - a number
        self.buy_or_sell = buy_or_sell #-1 - buy, +1 - sell
        self.time_began = time_began #of type float - system time called using time.time()
        self.cancellation_time = cancellation_time #of type float
        self.order_size = order_size #units of numbers
        self.end_time = time_began + cancellation_time
        #print("A Limit Order created.")

    def show_characteristics(self): #just for debugging purposes
        if (self.buy_or_sell == -1):
            print("Limit Buy Order id = %d, Order Size = %d, Time Began = %f, Cancellation Time = %f, End Time = %f"
              % (self.id, self.order_size, self.time_began, self.cancellation_time, self.end_time))
        else:
            print("Limit Sell Order id = %d, Order Size = %d, Time Began = %f, Cancellation Time = %f, End Time = %f"
                  % (self.id, self.order_size, self.time_began, self.cancellation_time, self.end_time))

    def __del__(self):
        if (self.buy_or_sell == -1):
            print("Deleted Limit Buy Order %d" % self.id)
        else:
            print("Deleted Limit Sell Order %d" % self.id)


if __name__ == "__main__":
    begin_time = time.time()
    lo1 = LimitOrder(1, 1, time.time() - begin_time, 4.56, 3)
    lo1.show_characteristics()
    del lo1
    #lo1.show_characteristics()



